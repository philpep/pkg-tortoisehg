*******************
Nastavení parametrů
*******************

.. module:: settings.dialog
    :synopsis: Dialog used to set preferences

.. figure:: figures/settings.png
    :alt: Settings dialog

..	
	
Nástroj **Settings** se používá pro konfiguraci jak TortoiseHg, tak Mercurialu, protože TortoiseHg je vlastně uživatelská obálka programu Mercurial.

Mercurial ve Windows má tři konfigurační úrovně.

1) Nastavení pro počítač v souboru
   :file:`C:\\Program Files\\TortoiseHg\\Mercurial.ini`
   Tento soubor je čten jako první a má nejnižší prioritu.
2) Nastavení pro uživatele v souboru
   :file:`C:\\Documents and Settings\\username\\mercurial.ini`
   Tento soubor je čten jako druhý a může přepsat parametry nastavení pro počítač.
3) Nastavení pro repozitář v souboru   :file:`repozitórium\\.hg\\hgrc`.
   Tento soubor je čten jako poslední a má tudíž nejvyšší prioritu.

Nastavení pro počítač může být přepsáno při aktualizaci programu, takže se doporučuje provádět změny jen v souborech :file:`..username\\mercurial.ini` a/nebo :file:`.hg\\hgrc`.  
V TortoiseHg je toto doporučení posíleno tím, že se používají jen dvě úrovně nastavení:

Globální nastavení uživatele
	edituje nastavení pro uživatele :file:`..username\\mercurial.ini`
Nastavení repozitáře
	edituje nastavení pro repozitář :file:`.hg/hgrc`

Mezi těmito režimy lze přepínat výběrovými tlačítky vlevo nahoře v kartě Settings.

Většina uživatelů TortoiseHg si všechny nastavitelné parametry uloží v globálním nastavení a soubor hgrc v repozitáři použije pro uložení cest (aliasy pro vzdálené repozitáře) a konfiguraci webu. Vězme, že soubory pro tato nastavení neexistují dříve, než poprvé použijeme dialog Nastavení.


Karty
=====

Nástroj pro konfiguraci programu se skládá z přehledně uspořádaných karet.

Každá karta přibližně odpovídá jedné sekci vašeho konfiguračního souboru :file:`Mercurial.ini`. Některé sekce však byly kvůli přehlednosti rozděleny do více karet. 

Všechny kartyy kromě :guilabel:`Extenze, Nástroje, Hooks` mají stejný formát - sloupec nastavitelných parametrů s rozbalovacími seznamy možných hodnot. Názvy parametrů jsou doplněny skrytými popisy parametru a jeho možných hodnot.
Popis aktuálně editovaného parametru se rovněž objeví v textovém rámečku dole.

Podrobnější informaci o nastavitelných parametrech nalezneme na stránkách wiki pro Mercurial, kromě těch karet, které jsou specifické pro TortoiseHg:
:guilabel:`TortoiseHg`, :guilabel:`Commit`, :guilabel:`Changelog`.

.. module:: TortoiseHg.settings
	:synopsis: Dialog used to set general TortoiseHg preferences

TortoiseHg
----------

:guilabel:`Jazyk aplikace:`
	Slouží k určení preferovaného jazyka uživatelského rozhraní.
	 
:guilabel:`Nástroj pro sloučení:`
    Grafický program pro řešení konfliktů při slučování. Pokud není určen, vybere Mercurial první použitelný nástroj, který nalezne v našem systému, nebo použije vlastní nástroj, který konflikty jenom označí. Tuto poslední možnost lze přikázat výběrem :guilabel:`internal:merge`. Volba :guilabel:`internal:prompt` vždy vybere lokální nástroj a volba :guilabel:`internal:dump` ponechá soubory v pracovním adresáři pro ruční sloučení. 

:guilabel:`Nástroj Visual Diff:`
	Určit externí program pro porovnávání diffů (příkaz extdiff)

:guilabel:`Textový editor:`
	Editor pro zobrazování souborů, atp.

:guilabel:`Terminál:`
	Editor pro komunikaci z příkazového řádku.
	
:guilabel:`Následné operace:`
	Seznam operací terminálu, které se mají použít bez součinnosti uživatele.

:guilabel:`Šířka ouška karty:`
	Určit počet míst na která se roztáhnou ouška karet v různých oknech TortoiseHg. Implicitně je 'neurčeno'.

:guilabel:`Zobrazit karty:`
	Zobrazit repozitář v kartě, i když je jediný. Implicitně je False.

:guilabel:`Sledovat změny repozitáře:`
	Určit kategorii souborů, u kterých TortoiseHg monitoruje změny. Implicitně je vždy.

:guilabel:`Max velikost diffu:`
	Maximální velikost souboru (v KB) pro zobrazení změn v oknech pro changelog, status a commit. Nulová hodnota je pro nastavení bez limitu. Implicitně je 1024 (1MB).

:guilabel:`Rozdělit GUI:`
	Při spuštění příkazu z příkazového řádku spustit proces na pozadí pro zobrazení grafických nástrojů.
	
:guilabel:`Název úplné cesty:`
	Zobrazit celou cestu k adresáři repozitáře v záhlaví okna místo pouhého jména adresáře. Implicitně je False.

:guilabel:`Automatické sloučení:`
	Určuje, zda se má TortoiseHg pokusit automaticky řešit změny téhož souboru a hlásit slučovací konflikty  jen tehdy, pokud si sám neví rady. Implicitně je False.



.. module:: workbench.settings
	:synopsis: Dialog used to set workbench specific preferences

Verpánek
--------

:guilabel:`Jediné okno Verpánku:`
	Není-li tato volba povolena, otevře se nový Verpánek pokaždé, když z kontextového menu vyberete "Hg Verpánek".
:guilabel:`Počáteční widget:`
	Nastavený widget se ukáže při otevření repozitáře.
:guilabel:`Počáteční revize:`
	Volba nastavené revize při otevření Verpánku (current, tip, working directory)
:guilabel:`Otevřít nové karty vedle stávajících:`
	Při volbě False se nová karta otevře za poslední kartou.	
:guilabel:`Zabarvení podle autora:`
	Zabarvení changesetů podle jména autora. Není-li umožněno, jsou změny zabarveny zeleně pro sloučení, červeně pro netriviální rodiče a černě pro běžné případy. Implicitně je False.
:guilabel:`Celé jméno autora:`
	Není-li povoleno, zobrazí se ve zkrácené verzi.
:guilabel:`Ouška úkonových karet:`
	Orientace lišty (east, west, off) s oušky úkonových karet.
:guilabel:`Pořadí úloh úkonové lišty:`
	Výpisem názvů lze určit počet a pořadí nástrojů lišty. Platné názvy jsou: log, commit, grep, pbranch a sync.	
:guilabel:`Dlouhý souhrn:`
	Zadáno-li true, spojují se řádky zpráv až do délky 80 znaků. Implicitně je False
:guilabel:`Počet načtených revizí:`
	Počet současně zobrazitelných changesetů v protokolu.
:guilabel:`Mrtvé větve:`
	Seznam čárkami oddělených jmen větví, které mají být ignorovány při sestavování seznamu jmen větví pro repozitář. Implicitní nastavení je None.
:guilabel:`Barvy větví:`
	Seznam mezerami oddělených jmen větví a barev ve formě 'branch:#XXXXXX'. Mezery a dvojtečky ve jménu větve musí být předznamenány zpětnými lomítky (\\). Podobně mohou být předznamenány i některé další znaky, např. \\u0040 bude dekódováno na znak @ a \\n na 'linefeed'. Implicitní nastavení je None.
:guilabel:`Skrýt tagy:`
	Seznam mezerami oddělených tagů, které se nebudou zobrazovat. Užitečný příklad: zadejte 'qbase qparent qtip' pro skrytí standardních tagů, vkládaných extenzí MQ. Implicitní nastavení je None.

:guilabel:`Aktivovat záložky:`
	Nastavením auto, prompt, never se ovlivní aktivace záložek při aktualizaci k revizi, která má jednu či více záložek.
:guilabel:`Show Family Line:`
    Zobrazit nepřímou závislost revize na grafu při filtrování revsetem - true, false, neurčeno; implicitně true.

	

.. module:: commit.settings
	:synopsis: Dialog used to set commit specific preferences
	
Commit
------

:guilabel:`Jméno uživatele:`
	Jméno spojené s komity.
:guilabel:`Délka souhrnného řádku:`
	Maximální délka souhrnného řádku průvodní zprávy komitu.
	Aplikace vydá varování při překročení zadané délky, nebo není-li souhrnný řádek oddělen od případného dalšího textu prázdným řádkem. Implicitní nastavení je 0 (nevynuceno). 
:guilabel:`Délka souhrnného řádku:`
	Délka zalomení řádku průvodní zprávy komitu. Je-li délka zadána, lze použít vyskakovací menu pro formátování zprávy a objeví se varování při překročení zadané délky. Implicitní nastavení je 0 (nevynuceno).
:guilabel:`Po komitu zavřít`
	Ukončit proceduru commit po každém úspěšném komitu. Implicitní nastavení je False.
:guilabel:`Push po komitu:`
	Aplikace se pokusí poslat (push) revizi k nastavenému repozitáři po každém úspěšném komitu. Implicitně je False.
:guilabel:`Seznam auto-include:`
	Čárkami rozdělený seznam souborů, které jsou automaticky vloženy do každého komitu. Zamýšleno pouze jako nastavení repozitáře. Implicitní nastavení je None.
:guilabel:`Seznam auto-exclude:`
	Čárkami rozdělený seznam souborů, které jsou automaticky vypuštěny z výběru při otevření dialogů status, commit a shelve. Implicitní nastavení je None.
:guilabel:`Průvodní texty anglicky`
    Generovat anglickou zprávu, i když jsou proměnné prostředí LANGUAGE nebo LANG nastaveny na neanglický jazyk. Toto nastavení je používáno procedurami Merge, Tag a Backout. Implicitní nastavení je False.
:guilabel:`Fáze nových komitů:`
    Lze zadat vlastnost public, draft, secret
:guilabel:`Oprávky MQ-secret:`
	Určit fázi oprávek MQ-secret místo draft. Implicitně je False.
:guilabel:`Ověřit fázi subrepa:`
	Ověřit fázi aktuální revize každého subrepozitáře Pro jiná nastavení než "ignore" se toto ověření provádí před komitem v rodičovském repozitáři. Implicitně je follow.	
:guilabel:`Monitorovat změny pracovního adresáře:`
	Určit frekvenci opětovného načítání (refresh) stavového výpisu pracovního adresáře - auto, allways, allwayslocal - viz	
:guilabel:`Potvrdit přidání neznámých souborů:`
	Vyvolat stvrzovací dialog při komitu. Implicitně True.
:guilabel:`Potvrdit mazání souborů:`
	Zobrazit stvrzovací dialog před odstraněním souborů při komitu.	   

	
.. module:: sync.settings
	:synopsis: Dialog used to set synchonization specific preferences
	
Synchronization
---------------
:guilabel:`Operace po akci pull` 
	Operace, které se provedou přímo po úspěšném provedení akce pull. Hodnota 'update' odpovídá pull --update, 'fetch' je extenze fetch, 'rebase' odpovídá pull --rebase. Implicitní nastavení je None.
:guilabel:`Připojit k push:`
	Uvedení typu revizí (all, branch, revision), které se implicitně vyberou pro akci Push.
:guilabel:`Potvrdit push:`
	Nastaveno-li False, provede se push bez potvrzovacího dialogu. Implicitně True.
:guilabel:`Výběrové kombo:`
	Nastavuje režim zobrazování výběrové roletky v synchronizační liště (auto, always, neurčeno).  Roletka obsahuje výpis vzdálených repozitářů. Při výběru auto se kombo zobrazí, je-li zadán více než jeden cíl.	

:guilabel:`SSH Command:`
	Příkaz se použije při spojení přes SSH

	
.. module:: web.settings
	:synopsis: Dialog used to set web server specific preferences
	
Server
------

Detaily repozitáře:


:guilabel:`Název:`
	Název repozitáře pro použití ve webovém rozhraní. Implicitní hodnota je název pracovního adresáře.

:guilabel:`Kódování:`
	Kódování souborů v repozitáři, použité ve webovém rozhraní a v aplikaci TortoiseHg.

:guilabel:`Publikující repozitář:`
	Název repozitáře pro použití ve webovém rozhraní. Implicitní hodnota je název pracovního adresáře.

Webový server:	

	
:guilabel:`Popis:`
	Popis účelu nebo obsahu repozitáře.
	
:guilabel:`Kontakt:`
	Jméno nebo mailová adresa osoby zodpovědné za repozitář.

:guilabel:`Styl:`
	Výběr šablony stylů

:guilabel:`Formáty pro archivaci:`
	Seznam (CSV) archivovacích formátů pro načítání

:guilabel:`Port:`
	Port, kterému má být nasloucháno.

:guilabel:`Push vyžaduje SSL:`
	Zda požadovat přenos příchozího 'push' přes SSL, aby se zabránilo 'čenichání po heslu'. 

:guilabel:`Pruhy:`
	Kolik řádků májí zabírat "pruhy zebry" ve víceřádkovém výstupu. Implicitní nastavení je 1; hodnota 0 volbu znemožní.

:guilabel:`Souborů maximálně:`
	Maximální počet souborů uváděných v jednom changesetu.

:guilabel:`Změn maximálně:`
	Maximální počet změn uváděných v changelogu.

:guilabel:`Povolit push:`
	Zda povolit vzdálený push do lokálního repozitáře. Není-li určeno, push není dovolen. Je-li zadána hodnota "*", může push provést libovolný i neověřený uživatel. Vzdálení uživatelé musí jinak být ověřeni a jejich ověřená jména musí být přítomna v tomto seznamu (oddělená mezerou nebo ","). Obsah seznamu allow_push je zkoumán po seznamu deny_push.

:guilabel:`Odmítnout push:`
	Zda odmítnout vyslání do repozitáře. Není-li nic zadáno, 'push' není odmítnuto. Je-li zadána hodnota "*", mají  'push' zamítnut všichni uživatelé, ověření či neověření. Případný seznam deny_push je zkoumán před seznamem allow_push.


.. module:: proxy.settings
	:synopsis: Dialog used to set proxy specific preferences

Proxy
-----

:guilabel:`Hostitel:`
	Jméno hostitele a (nepovinné) port proxy serveru, například ``myproxy:8000``.

:guilabel:`Seznam pro bypass:`
	Nepovinné. CSV seznam jmen hostitelů, kteří mají obejít proxy server.

:guilabel:`Uživatel:`
	Nepovinné. Jméno uživatele pro ověření u proxy serveru.

:guilabel:`Heslo:`
	Nepovinné. Heslo pro ověření u proxy serveru.


.. module:: email.settings
	:synopsis: Dialog used to set email specific preferences

Email
-----

:guilabel:`From:`
	Emailová adresa pro použití v záhlaví "From" a pro obálku SMTP.

:guilabel:`To:`
	CSV seznam adres příjemců emailu.

:guilabel:`Cc:`
	CSV seznam adres příjemců kopie emailu.

:guilabel:`Bcc:`
	CSV seznam skrytých adres příjemců kopie emailu.

:guilabel:`Metoda:`
	Nepovinné. Použitá metoda při posílání emailových zpráv. Je-li hodnota "smtp" (implicitní hodnota), použije se SMTP (konfigurace viz níže). Jinak se zadaná hodnota použije jako jméno programu, který působí jako 'sendmail' (příjímá volbu :command:`-f` pro odesílatele, seznam příjemců na příkazovém řádku, zprávu v stdin). Normálně pro posílání zpráv postačí nastavení ``sendmail`` nebo ``/usr/sbin/sendmail``.

:guilabel:`Hostitel SMTP:`
	Jméno hostitele mailového serveru.

:guilabel:`Port SMTP:`
	Port pro připojení na mailovém serveru. Implicitní nastavení je 25.

:guilabel:`SMTP TLS:`
	Připojení k mailovému serveru s použitím TLS. Implicitní nastavení je False.

:guilabel:`Uživatel SMTP:`
	Uživatelské jméno pro ověření u mailového serveru.

:guilabel:`Heslo pro SMTP:`
	Heslo pro ověření u mailového serveru.

:guilabel:`Lokální jméno hostitele:`
	Hostitelské jméno, které může odesílatel použít pro ověření u mailového serveru.


.. module:: diff.settings
	:synopsis: Dialog used to set diff specific preferences

Diffy a anotace
---------------

:guilabel:`Oprávka EOL:`
	Normalizovat ukončení řádků v souboru na lf nebo crlf během a po akci patch. Implicitní nastavení 'strict' normalizaci neprovádí. 

:guilabel:`Formát Git:`
	Použít rozšířený git formát záhlaví diffu. Implicitně je False.

:guilabel:`Formát MQ Git`
    Nastaveno-li na 'keep', použije mq konfiguraci sekce (diff), přičemž při qrefresh zachová existující oprávky (patches). Nastaveno-li 'yes' nebo 'no', mq potlačí sekci (diff) a vždy generuje gitové nebo regulerní oprávky, přičemž je ve druhém případě možná ztráta dat. 

:guilabel:`Bez datumu:`
	Do záhlaví diffů nezahrnovat data modifikací. Implicitně je False.

:guilabel:`Zobrazit funkci:`
	Ukázat funkci ve které je jednotlivá změna obsažena. Implicitně je False.

:guilabel:`Ignorovat prázdné znaky:`
	Ignorovat prázdné znaky (WS) při porovnávání řádků. Implicitně je False.

:guilabel:`Ignorovat množství WS:`
	Ignorovat změny v počtu prázdných znaků. Implicitně je False.

:guilabel:`Ignorovat prázdné řádky:`
	Ignorovat změny, jejichž řádky jsou všechny prázdné. Implicitně je False.
	


Fonty
-----

:guilabel:`Font zprávy:`
	Font průvodních zpráv komitu. Implicitně: monospace 10

:guilabel:`Font diffu:`
	Font pro zobrazení textových rozdílů. Implicitně: monospace 10.
	
:guilabel:`Font seznamu:`
	Font použitý vseznamu souborů . Implicitně: sans 9.
	
:guilabel:`Font přehledu`
	Font použitý v přehledu revizí. Implicitně: monospace 10.
	
:guilabel:`Font výstupu:`
	Font textu v panelu Output Log. Implicitně: sans 8.
	

Extenze
-------

Aktivační seznam extenzí.


	
Nástroje
--------

Prostředí pro konfiguraci vlastního ovládacího prvku a jeho zařazení do uživatelské nástrojové lišty.


Hooks
-----

Prostředí pro připojení externích programů pro různé typy příkazů. 

Issue Tracking
--------------

:guilabel:`Regex problému`
	Definuje regex shody pro vyhledávání čísel problému.

:guilabel:`Přípojení k problému`
	Definuje příkaz, který má být spuštěn po zjištění čísla problému.
	
:guilabel:`Úvodní tagy`
	Zobrazit tagy na počátku sdělení komitu.
	
:guilabel:`Povinný odkaz na problém`
	Konfigurovat vybraný plugin COM Bug Tracker.
	
:guilabel:`Issue Tracker Plugin`
	Konfiguruje plugin COM pro sledování chyb.
	
:guilabel:`Konfigurovat IT`
	Konfigurovat Issue Tracker.
	
:guilabel:`Aktualizovat Issue Tracker`
	Definuje příkaz, který má být spuštěn po zjištění čísla problému.

:guilabel:`Changeset Link`
	Definuje příkaz, který má být spuštěn po zjištění čísla problému.	
					
	
Review Board
------------

:guilabel:`Server`
	Cesta k příkladu pro RB:  "http://demo.reviewboard.org"

:guilabel:`Uživatel`
	Jméno uživatele pro ověření přístupu na RB.
	
:guilabel:`Heslo`
	Heslo pro ověření přístupu na RB.
	
:guilabel:`ID repa na serveru`
	Implicitní ID repozitáře na serveru RB	

:guilabel:`Cílové skupiny`
	Seznam čárkami oddělených cílových skupin

:guilabel:`Cílové osoby`
	Seznam čárkami oddělených cílových osob

	
Klávesová navigace
===================

:kbd:`Ctrl-Enter`
	Uplatnit změny a ukončit dialog; ekvivalent stisknutí tlačítka 'OK'.


Spuštění z příkazového řádku
============================

::

	thg repoconfig

pro nastavení repozitáře (:file:`.hg/hgrc` file) nebo ::

	thg userconfig

pro uživatelskou konfiguraci (:file:`Mercurial.ini` file).

Příkazy se zadávájí bez parametrů, kromě globálních voleb.

.. vim: noet ts=4
