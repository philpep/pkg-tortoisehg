<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>4.1. Common Features &mdash; TortoiseHg v1.0.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="TortoiseHg v1.0.0 documentation" href="index.html" />
    <link rel="up" title="4. TortoiseHg in daily use" href="daily.html" />
    <link rel="next" title="4.2. Windows Explorer Integration" href="explorer.html" />
    <link rel="prev" title="4. TortoiseHg in daily use" href="daily.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="explorer.html" title="4.2. Windows Explorer Integration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="daily.html" title="4. TortoiseHg in daily use"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">TortoiseHg v1.0.0 documentation</a> &raquo;</li>
          <li><a href="daily.html" accesskey="U">4. TortoiseHg in daily use</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-common.dialog">
<h1>4.1. Common Features<a class="headerlink" href="#module-common.dialog" title="Permalink to this headline">¶</a></h1>
<p>These features are common to many TortoiseHg tools, so we document them
here just once.</p>
<div class="section" id="keyboard-accelerators">
<h2>4.1.1. Keyboard Accelerators<a class="headerlink" href="#keyboard-accelerators" title="Permalink to this headline">¶</a></h2>
<p>We define a few keyboard accelerators that all of the TortoiseHg tools support.</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">Ctrl-Q</span></tt></dt>
<dd>quit the application, including all open windows</dd>
<dt><tt class="docutils literal"><span class="pre">Ctrl-W</span></tt></dt>
<dd>close the current window (same as <tt class="docutils literal"><span class="pre">Ctrl-Q</span></tt> if only one window is open)</dd>
<dt><tt class="docutils literal"><span class="pre">Ctrl-D</span></tt></dt>
<dd>visual diff of currently selected file or changeset</dd>
<dt><tt class="docutils literal"><span class="pre">Ctrl-Enter</span></tt></dt>
<dd>activation</dd>
<dt><tt class="docutils literal"><span class="pre">Ctrl-.</span></tt> and <tt class="docutils literal"><span class="pre">Ctrl-,</span></tt></dt>
<dd>select next or previous file in a file list</dd>
<dt><tt class="docutils literal"><span class="pre">Ctrl-[</span></tt> and <tt class="docutils literal"><span class="pre">Ctrl-]</span></tt></dt>
<dd>page up or down a text pane</dd>
<dt><tt class="docutils literal"><span class="pre">F5</span></tt>, <tt class="docutils literal"><span class="pre">Ctrl-R</span></tt></dt>
<dd>refresh</dd>
</dl>
<p>On <a class="reference external" href="http://bitbucket.org/tortoisehg/stable/wiki/MacOSX">Mac OS X</a>, the
apple (command) key is used as the modifier instead of <tt class="docutils literal"><span class="pre">Ctrl</span></tt>.
However some keyboard accelerators are internal to GTK+ so you must use
the control key to access cut-paste functionality, for instance.</p>
</div>
<div class="section" id="visual-diffs">
<h2>4.1.2. Visual Diffs<a class="headerlink" href="#visual-diffs" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<img alt="Visual Diff Window" src="_images/visual-diff.jpg" />
<p class="caption">Visual Diff Window</p>
</div>
<p>In TortoiseHg 1.0, the visual (external) diff infrastructure was
refactored.  The new system uses tool descriptions in
<tt class="docutils literal"><span class="pre">mergetools.rc</span></tt> to detect most common diff tools on your computer
(including KDiff3, which ships in our installer) and select the best
available tool.</p>
<p>If the user has selected a merge tool
(<em>TortoiseHg ‣ Three-way Merge Tool</em>), that tool will
also be used to perform visual diffs, bypassing the tool selection
process.  However the user can still select a separate tool
(<em>TortoiseHg ‣ Visual Diff Tool</em>) for visual diffs if
they chose.</p>
<p>The merge tool configuration file contains optimal command lines for
each tool, so no further configuration is required by the user.  They
only need to select the tools they wish use, or accept the defaults.</p>
<p>The visual diff system will use any existing extdiff configuration it
finds.  Since extdiff did not support three way diff arguments until
very recently and still does not support label arguments, you will
likely have a better experience by disabling or deleting any extdiff
configuration you may have.</p>
<p>The visual diff system will directly use the selected diff tool unless
the action you are attempting requires the use of the TortoiseHg visual
diff window.  The list of conditions includes:</p>
<ol class="arabic simple">
<li>The selection of files being compared require multiple tools</li>
<li>The selected tool forks detached background processes</li>
<li>The selected tool does not support the required directory diffs</li>
<li>The selected tool does not support three way comparisons</li>
<li>The file changes include renames or copies</li>
</ol>
<p>When the visual diff window is used, the temporary files are cleaned up
when the dialog is closed.  Thus it should be left open until you close
all of your diff tool instances.  When your diff tool is launched
directly, the temporary files are deleted when your tool exits.</p>
<p>If your diff tool is launched directly to compare a working copy file,
it will directly diff against the working file so you may modify it from
within the diff tool.  If you are comparing multiple files, the visual
diff system will make a snapshot of the working copy files and track
their initial sizes and timestamps.  When your diff tool exits, the
system compares the sizes and timestamps and copies modified files back
over the original working copies.  In this way, you can still modify
your working copy files from your visual diff tool even when performing
directory comparisons.</p>
<p>When the visual diff window is used to compare working copy files, it
always directly diffs against the working copy files since it always
operates on a single file at a time.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <em>TortoiseHg ‣ Skip Diff Window</em> configurable
has been removed because it is now redundant.</p>
</div>
<div class="section" id="adding-tools">
<h3>4.1.2.1. Adding Tools<a class="headerlink" href="#adding-tools" title="Permalink to this headline">¶</a></h3>
<p>If you have a visual diff tool installed that is not supported by
TortoiseHg, you can create a tool configuration for it in your user
<tt class="docutils literal"><span class="pre">Mercurial.ini</span></tt> file.  See Mercurial&#8217;s
<a class="reference external" href="http://www.selenic.com/mercurial/hgrc.5.html#merge-tools">documentation</a>
on how to configure your tool for use in file merges.  When that is
complete, you can add the extra keys used by TortoiseHg for visual
diff:</p>
<div class="highlight-python"><pre>diffargs:  the arguments to use for two-way file comparisons
diff3args: the arguments to use for three-way file comparisons
dirdiff:   this tool supports two-way directory comparisons
dir3diff:  this tool supports three-way directory comparisons</pre>
</div>
<p>When building command line arguments, you can use the following
variables:</p>
<div class="highlight-python"><pre>$parent1:  the file or directory from the first parent revision
$parent2:  the file or directory from the second parent revision
$child:    the file or directory from the revision being compared
$ancestor: the file or directory from the ancestor of a merge
$parent:   a synonym for $parent1

$plabel1:  a symbolic name for the first parent revision
$plabel2:  a symbolic name for the second parent revision
$clabel:   a symbolic name for the revision being compared
$alabel:   a symbolic name for the ancestor revision</pre>
</div>
<p>Obviously, $parent2 and $ancestor are only meaningful when used in three
way diff arguments, for viewing merge changesets.  If your diff tool
cannot use the ancestor revision in any productive way, it is safe to
leave it out of the diff3args command line.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On Windows, the <cite>executable</cite> parameter can use environment variables
using the syntax ${ProgramFiles}</p>
</div>
<p>If unconfigured, the default value of <strong>diffargs</strong> is &#8216;$parent $child&#8217;.
The default value of <strong>diff3args</strong> is &#8220;&#8221;, indicating the visual diff
tool cannot perform three way comparisons.</p>
<p>If you create a new visual diff tool configuration, or improve upon an
existing configuration, please email it to our development mailing list
so it may be incorporated in a future release.</p>
</div>
<div class="section" id="word-diffs">
<h3>4.1.2.2. Word Diffs<a class="headerlink" href="#word-diffs" title="Permalink to this headline">¶</a></h3>
<p>The TortoiseHg Windows installers now include TortoiseSVN&#8217;s scripts for
comparing (and sometimes merging) many binary document formats.  These
are configured in the site-wide <tt class="docutils literal"><span class="pre">mergepatterns.rc</span></tt> as handlers for
each binary format&#8217;s common file extensions, so no user intervention is
required.</p>
<p>In order to support file extension based tool selection, TortoiseHg has
added support for a <strong>[diff-patterns]</strong> section equivalent to Mercurial&#8217;s
<a class="reference external" href="http://www.selenic.com/mercurial/hgrc.5.html#merge-patterns">merge-patterns</a>
section.</p>
</div>
</div>
<div class="section" id="treeview-searches">
<h2>4.1.3. Treeview searches<a class="headerlink" href="#treeview-searches" title="Permalink to this headline">¶</a></h2>
<p>Many TortoiseHg dialogs use treeviews to present lists of data to the
user. The file lists in the status, commit, shelve, and changelog tools
are treeviews. The changelog graph pane is a treeview. And even the
annotate pane in the datamine tool is a treeview.</p>
<p>Most of the TortoiseHg treeviews are configured for live searches.
Ensure that the treeview has focus (by clicking on a row), and begin
typing a search phrase. A small entry window will appear containing the
text you have typed, and the treeview will immediately jump to the first
row that matches the text you have entered thus far. As you enter more
characters, the search is refined. (Do not hit return to &#8216;complete&#8217; the
search, before using the keys mentioned below, or the entry window will
disappear, ending the search instead.)</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Ctrl-F</span></tt> opens the search window explicitly</li>
<li><tt class="docutils literal"><span class="pre">Ctrl-G</span></tt> advances the search to the next match</li>
<li><tt class="docutils literal"><span class="pre">Shift-Ctrl-G</span></tt> searches backwards</li>
<li>The mouse scroll wheel will advance forwards and backwards through
matching lines</li>
</ul>
</div>
<div class="section" id="hg-command-dialog">
<h2>4.1.4. Hg command dialog<a class="headerlink" href="#hg-command-dialog" title="Permalink to this headline">¶</a></h2>
<p>Many TortoiseHg tools use the <em>hgcmd</em> dialog to execute Mercurial
commands that could potentially be interactive.</p>
<div class="figure">
<img alt="Mercurial command dialog" src="_images/hgcmd.jpg" />
<p class="caption">Interactive Mercurial Command Dialog</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Error messages are given a dark red color for contrast</p>
</div>
<p>When the Mercurial command has completed, the dialog gives focus to its
<strong>Close</strong> button.  So pressing <tt class="docutils literal"><span class="pre">Enter</span></tt> is all that is
required to close the window.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/thg_logo_92x50.png" alt="Logo"/>
            </a></p>
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">4.1. Common Features</a><ul>
<li><a class="reference external" href="#keyboard-accelerators">4.1.1. Keyboard Accelerators</a></li>
<li><a class="reference external" href="#visual-diffs">4.1.2. Visual Diffs</a><ul>
<li><a class="reference external" href="#adding-tools">4.1.2.1. Adding Tools</a></li>
<li><a class="reference external" href="#word-diffs">4.1.2.2. Word Diffs</a></li>
</ul>
</li>
<li><a class="reference external" href="#treeview-searches">4.1.3. Treeview searches</a></li>
<li><a class="reference external" href="#hg-command-dialog">4.1.4. Hg command dialog</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="daily.html"
                                  title="previous chapter">4. TortoiseHg in daily use</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="explorer.html"
                                  title="next chapter">4.2. Windows Explorer Integration</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/common.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="explorer.html" title="4.2. Windows Explorer Integration"
             >next</a> |</li>
        <li class="right" >
          <a href="daily.html" title="4. TortoiseHg in daily use"
             >previous</a> |</li>
        <li><a href="index.html">TortoiseHg v1.0.0 documentation</a> &raquo;</li>
          <li><a href="daily.html" >4. TortoiseHg in daily use</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2010, Steve Borho and others.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>
  </body>
</html>